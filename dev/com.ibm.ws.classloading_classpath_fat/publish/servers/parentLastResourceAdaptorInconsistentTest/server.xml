<server>
    <featureManager>
        <feature>servlet-4.0</feature>
        <feature>jdbc-4.0</feature>
        <feature>jca-1.7</feature>
        <feature>jms-2.0</feature>
        <feature>localConnector-1.0</feature>>
        <feature>componenttest-1.0</feature>
        <feature>apiTestFeature-1.0</feature>
    </featureManager>

    <include location="../fatTestPorts.xml"/>

    <webApplication location="testParentLibraryInconsistent.war">
        <classloader classProviderRef="DummyRA1" delegation="parentLast"/>
    </webApplication>

    <resourceAdapter id="DummyRA1" location="${server.config.dir}/ras/testDummyRA.rar">
      <classloader commonLibraryRef="testCommonLib1" classProviderRef="DummyRA2"/>
    </resourceAdapter>

    <resourceAdapter id="DummyRA2" location="${server.config.dir}/ras/testDummyRA.rar">
      <classloader commonLibraryRef="testCommonLib2"/>
    </resourceAdapter>

    <library id="testCommonLib1">
       <path name="libs/testLib1.jar"/>
    </library>
    <library id="testCommonLib2">
       <path name="libs/testLib2.jar"/>
    </library>

    <javaPermission codeBase="${server.config.dir}/apps/testParentLibraryInconsistent.war" className="java.lang.RuntimePermission" name="getClassLoader"/>
    <javaPermission codeBase="${server.config.dir}/apps/testParentLibraryInconsistent.war" className="java.lang.RuntimePermission" name="getProtectionDomain"/>
    <javaPermission codeBase="${server.config.dir}/libs/testLib1.jar" className="java.lang.RuntimePermission" name="getProtectionDomain"/>
</server>

